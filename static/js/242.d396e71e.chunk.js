"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[242],{7242:(e,o,n)=>{n.r(o),n.d(o,{default:()=>X});var c=n(5043),i=n(5829),r=n(7652);const s=n.p+"static/media/priceGiftIcon.e12670f000229cca1e08ce38d08520a0.svg";var a=n(4798),l=n(246);const t="PlanCard_planItemWrapper__EG2Zp",d="PlanCard_planTitle__rvg5x",u="PlanCard_priceTitle__01Fv1",p="PlanCard_totalPriceWrapper__dO1Lg",v="PlanCard_pricePeriod__L8bM-",m="PlanCard_priceDescription__zo+Ja",_="PlanCard_giftDescription__REMKv",h="PlanCard_infoButton__VyjVX",x="PlanCard_modalWrapper__bGIQr",g="PlanCard_modalContentTextTariff__Z2ilY",j="PlanCard_modalTitle__Bchk1",A="PlanCard_includesList__sC9v2";const f=n.p+"static/media/planInfoIcon.96f72d12ed4bd5143df7df83e8e4f687.svg";var C=n(4726),N=n(9688),k=n(3969);var T=n(6986),I=n(3924),b=n(3076),G=n(7117),B=n(6756),L=n(579);const w=function(e){var o,n,i,r,w,P,y,E,S,W,D,R,z;let{planTitle:F,planDescription:H,planId:M,title:Q,serviceID:V,isSelected:q,onSelect:$,onPlanSelect:J,logo:U}=e;const X=(0,I.j)(),Y=(0,I.G)((e=>(0,T.F8)(e,M)));(0,c.useEffect)((()=>{X(((e,o)=>async n=>{try{n((0,k.BM)());const c=(0,N.Ri)("accessToken");if(!c)return console.error("AccessToken is missing"),void n((0,k.Ru)("AccessToken is missing"));const i=await(0,N.Ie)("".concat(N.C1,"/services/").concat(e,"/tariffs/").concat(o),{method:"GET",headers:{Authorization:"Bearer ".concat(c)}});n((0,k.jc)({planId:o,info:i}))}catch(c){c instanceof Error?(console.error("An unexpected error occurred:",c.message),n((0,k.Ru)(c.message))):(console.error("An unexpected error occurred:",c),n((0,k.Ru)("An unknown error occurred")))}})(V,M))}),[V,X,M]);const Z=(0,I.G)((e=>e.selectedPlanInfo.isLoading)),K=void 0!==(null===Y||void 0===Y||null===(o=Y.special_condition)||void 0===o?void 0:o.count)&&0!==Y.special_condition.count,[O,ee]=(0,c.useState)(!1),[oe,ne]=(0,c.useState)("");(0,c.useEffect)((()=>{if(null!==Y&&void 0!==Y&&Y.description){const e=(0,B.GQ)(null===Y||void 0===Y?void 0:Y.description);ne(e)}}),[null===Y||void 0===Y?void 0:Y.description]);const ce=(0,L.jsxs)("div",{className:x,children:[(0,L.jsx)("h5",{className:j,children:"\u0427\u0442\u043e \u0432\u0445\u043e\u0434\u0438\u0442 \u0432 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443?"}),(0,L.jsx)("p",{className:d,children:F}),(0,L.jsx)("div",{className:A,children:(0,L.jsx)("div",{className:g,dangerouslySetInnerHTML:{__html:oe}})}),(0,L.jsx)(a.A,{buttonName:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e",backgroundColor:l.A.mainBackgroundColor,color:l.A.mainTextFontColor,borderColor:l.A.buttonBorderColor,onClick:()=>ee(!1)})]});return Z?(0,L.jsx)(G.A,{}):(0,L.jsxs)("div",{className:t,children:[(0,L.jsx)("button",{type:"button",className:h,onClick:()=>ee(!0),children:(0,L.jsx)("img",{src:f,alt:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0442\u0430\u0440\u0438\u0444\u0435."})}),(0,L.jsx)("h2",{className:d,children:F}),(null===Y||void 0===Y?void 0:Y.condition)&&(0,L.jsxs)("span",{className:p,children:[(0,L.jsxs)("p",{className:u,children:[Y.condition.price," \u20bd"]}),(0,L.jsxs)("p",{className:v,children:["\u0437\u0430 ",Y.condition.count," ",null===(n=Y.condition)||void 0===n||null===(i=n.period)||void 0===i?void 0:i.toLowerCase()]})]}),K?(0,L.jsxs)("p",{className:m,children:["\u043f\u0435\u0440\u0432\u044b\u0439 ",null===(r=Y.special_condition)||void 0===r||null===(w=r.period)||void 0===w?void 0:w.toLocaleLowerCase()," \u0437\u0430\xa0",null===(P=Y.special_condition)||void 0===P?void 0:P.price,"\xa0\u20bd, \u0434\u0430\u043b\u0435\u0435 \u2014"," ",null===(y=Y.condition)||void 0===y?void 0:y.price,"\xa0\u20bd\u2060/",null===(E=Y.condition)||void 0===E||null===(S=E.period)||void 0===S?void 0:S.toLowerCase()]}):null,(null===Y||void 0===Y?void 0:Y.trial_period)&&(0,L.jsxs)("span",{className:_,children:[(0,L.jsx)("img",{src:s,alt:""}),null===(W=Y.trial_period)||void 0===W?void 0:W.count," ",null===(D=Y.trial_period)||void 0===D||null===(R=D.period)||void 0===R?void 0:R.toLocaleLowerCase()," \u0437\u0430"," ",null===(z=Y.trial_period)||void 0===z?void 0:z.price," \u20bd"]}),(0,L.jsx)(a.A,{buttonName:q?"\u0412\u044b\u0431\u0440\u0430\u043d\u043e":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",backgroundColor:q?l.A.planSelectedBackground:l.A.mainBackgroundColor,color:q?l.A.planSelectedTextColor:l.A.mainTextFontColor,borderColor:q?l.A.planSelectedBackground:l.A.buttonBorderColor,onClick:()=>{var e,o,n,c,i,r,s,a;Y&&X((0,b.uV)({logo:{logo:U},price:null===(c=Y.condition)||void 0===c?void 0:c.price,period:null===(i=Y.condition)||void 0===i?void 0:i.period,trialPeriod:null===(r=Y.trial_period)||void 0===r?void 0:r.period,trialCount:null===(s=Y.trial_period)||void 0===s?void 0:s.count,trialPrice:null===(a=Y.trial_period)||void 0===a?void 0:a.price,tariffID:Y.id,name:{title:Q}}));J({count:null===Y||void 0===Y||null===(e=Y.trial_period)||void 0===e?void 0:e.count,period:null===Y||void 0===Y||null===(o=Y.trial_period)||void 0===o?void 0:o.period,price:null===Y||void 0===Y||null===(n=Y.trial_period)||void 0===n?void 0:n.price})},style:{padding:"10px 20px"}}),(0,L.jsx)(C.A,{open:O,onClose:()=>ee(!1),message:ce})]})},P="serviceIncludes_serviceIncludesWrapper__kldm0",y="serviceIncludes_includesList__FTQzH",E="serviceIncludes_includesTitle__q016C",S="serviceIncludes_typeIncludesTitle__u0Cn2",W="serviceIncludes_includesItem__EQ2A2",D="serviceIncludes_showMoreButton__YnsHu",R="serviceIncludes_serviceInfo__B6UD5",z="serviceIncludes_expanded__7fHHW";const F=function(e){let{includesDescription:o}=e;const n=(0,I.G)(T.Aq),i=(0,I.G)(T.J1),[r,s]=(0,c.useState)("");(0,c.useEffect)((()=>{if(o){const e=(0,B.GQ)(o);s(e)}}),[o]);const[a,l]=(0,c.useState)(!1);return(0,L.jsxs)("section",{className:P,children:[(0,L.jsx)("h2",{className:E,children:"\u0421\u0435\u0440\u0432\u0438\u0441 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442"}),(0,L.jsxs)("div",{children:[(0,L.jsx)("h3",{className:S,children:"\u042d\u043a\u0441\u043a\u043b\u044e\u0437\u0438\u0432\u044b"}),(0,L.jsx)("ul",{className:y,children:i?i.map((e=>(0,L.jsx)("li",{className:W,children:(0,L.jsx)("img",{alt:e.image,src:e.image})},e.id))):null})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("h3",{className:S,children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435"}),(0,L.jsx)("ul",{className:y,children:n?n.map((e=>(0,L.jsx)("li",{className:W,children:(0,L.jsx)("img",{alt:e.image,src:e.image})},e.id))):null})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("h3",{className:S,children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,L.jsx)("div",{className:"".concat(R," ").concat(a?z:""),dangerouslySetInnerHTML:{__html:r}}),(0,L.jsx)("button",{type:"button",className:D,onClick:function(){l(!a)},children:a?null:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]})]})};var H=n(9507),M=n(835),Q=n(5475),V=n(9363),q=n(6575);var $=n(243);var J=n(2932);var U=n(3457);const X=function(){var e,o;const n=(0,I.j)(),[s,t]=(0,c.useState)(null),[d,u]=(0,c.useState)(null),p=(0,I.G)(T.nt),v=(0,I.G)(T.Bj),m=(0,I.G)(T.bW),_=(0,I.G)((e=>e.inactiveServiceInfo.isLoading)),h=(0,I.G)((e=>e.servicePlans.isLoading)),x=(0,I.G)((e=>e.serviceCategories.isLoading)),[g,j]=(0,c.useState)(""),A=_&&h&&x,{id:f}=(0,M.g)();return(0,c.useEffect)((()=>{var e;return n((0,V.h)(f)),n((e=f,async o=>{try{o((0,q.xx)());const n=(0,N.Ri)("accessToken");if(!n)return console.error("AccessToken is missing"),void o((0,q.Lq)("AccessToken is missing"));const c=await(0,N.Ie)("".concat(N.C1,"/services/").concat(e,"/tariffs/"),{method:"GET",headers:{Authorization:"Bearer ".concat(n)}});o((0,q.BC)(c))}catch(n){n instanceof Error?(console.error("An unexpected error occurred:",n.message),o((0,q.Lq)(n.message))):(console.error("An unexpected error occurred:",n),o((0,q.Lq)("An unknown error occurred")))}})),n((e=>async o=>{try{o((0,$.nG)());const n=(0,N.Ri)("accessToken");if(!n)return console.error("AccessToken is missing"),void o((0,$.V$)("AccessToken is missing"));const c=await(0,N.Ie)("".concat(N.C1,"/services/").concat(e,"/image-categories/"),{method:"GET",headers:{Authorization:"Bearer ".concat(n)}});o((0,$.hm)(c))}catch(n){n instanceof Error?(console.error("An unexpected error occurred:",n.message),o((0,$.V$)(n.message))):(console.error("An unexpected error occurred:",n),o((0,$.V$)("An unknown error occurred")))}})(f)),()=>{n((0,J.Nc)()),n((0,U.yv)()),n((0,$.tu)()),n((0,k.QC)()),n((0,q.zX)())}}),[n,f]),(0,c.useEffect)((()=>{if(m.length>0){var e,o;const r=null===(e=m.find((e=>e.name.includes("\u042d\u043a\u0441\u043a\u043b\u044e\u0437\u0438\u0432\u044b"))))||void 0===e?void 0:e.id,s=null===(o=m.find((e=>e.name.includes("\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435"))))||void 0===o?void 0:o.id;r&&n((c=f,i=r,async e=>{try{e((0,J.gB)());const o=(0,N.Ri)("accessToken");if(!o)return console.error("AccessToken is missing"),void e((0,J.Gj)("AccessToken is missing"));const n=await(0,N.Ie)("".concat(N.C1,"/services/").concat(c,"/image-categories/").concat(i,"/images"),{method:"GET",headers:{Authorization:"Bearer ".concat(o)}});e((0,J.uU)(n))}catch(o){o instanceof Error?(console.error("An unexpected error occurred:",o.message),e((0,J.Gj)(o.message))):(console.error("An unexpected error occurred:",o),e((0,J.Gj)("An unknown error occurred")))}})),s&&n(((e,o)=>async n=>{try{n((0,J.gB)());const c=(0,N.Ri)("accessToken");if(!c)return console.error("AccessToken is missing"),void n((0,J.Gj)("AccessToken is missing"));const i=await(0,N.Ie)("".concat(N.C1,"/services/").concat(e,"/image-categories/").concat(o,"/images"),{method:"GET",headers:{Authorization:"Bearer ".concat(c)}});n((0,J.Pp)(i))}catch(c){c instanceof Error?n((0,J.Gj)(c.message)):n((0,J.Gj)("An unknown error occurred"))}})(f,s))}var c,i}),[f,n,m]),A?(0,L.jsx)(G.A,{}):(0,L.jsxs)("div",{className:r.A.page_wrapperCard,children:[(0,L.jsx)("div",{className:r.A.navWrapper,children:(0,L.jsx)(i.A,{color:"primary",pageName:p.name,path:"/main"})}),(0,L.jsxs)("div",{className:r.A.basicInfoWrapper,children:[(0,L.jsx)("div",{className:r.A.logoWrapper,children:(0,L.jsx)("img",{alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f ".concat(p.name),src:p.logo})}),(0,L.jsxs)("div",{className:r.A.namePriceInfoWrapper,children:[(0,L.jsx)("h1",{className:r.A.serviceTitle,children:p.full_name}),(0,L.jsxs)("p",{className:r.A.serviceBrief,children:[" ",p.short_description," "]}),(0,L.jsx)("ul",{className:r.A.pricesWrapper,children:(0,L.jsx)("li",{className:"".concat(r.A.pricesItem," ").concat(r.A.cashback),children:(0,L.jsxs)("span",{className:r.A.cashbackText,children:["\u043a\u0435\u0448\u0431\u0435\u043a ",p.cashback,"%"]})})})]})]}),(0,L.jsx)("ul",{className:r.A.plansList,children:v.map((e=>(0,L.jsx)("li",{children:(0,L.jsx)(w,{planTitle:e.name,logo:p.logo,title:p.name,planDescription:e.description,planId:e.id,serviceID:f,isSelected:e.id===s,onSelect:()=>{t(e.id)},onPlanSelect:o=>{t(e.id),(e=>{u(e)})(o),j("")}})},e.id)))}),(0,L.jsx)(F,{includesDescription:p.description}),(0,L.jsx)(H.A,{}),(0,L.jsx)("div",{className:r.A.forwardButtonWrapper,children:null!==s?(0,L.jsx)(Q.N_,{to:"/subscription",children:(0,L.jsx)(a.A,{buttonName:d?"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c ".concat(d.count," ").concat(null===(e=d.period)||void 0===e?void 0:e.toLocaleLowerCase()," \u0437\u0430 ").concat(d.price," \u20bd"):"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c",backgroundColor:l.A.mainButtonColor,color:l.A.mainTextFontColor})}):(0,L.jsxs)("div",{children:[g?(0,L.jsx)("div",{className:r.A.forwardButtonError,children:g}):null,(0,L.jsx)(a.A,{buttonName:d?"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c ".concat(d.count," ").concat(null===(o=d.period)||void 0===o?void 0:o.toLocaleLowerCase()," \u0437\u0430 ").concat(d.price," \u20bd"):"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c",backgroundColor:l.A.mainButtonColor,color:l.A.mainTextFontColor,onClick:()=>j("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0430\u0440\u0438\u0444")})]})})]})}}}]);
//# sourceMappingURL=242.d396e71e.chunk.js.map